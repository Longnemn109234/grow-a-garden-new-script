local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local originalName = LocalPlayer.DisplayName

-- üëÅÔ∏è GUI
local gui = Instance.new("ScreenGui", game.CoreGui)
gui.Name = "TrollPetGUI"

local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 260, 0, 260)
frame.Position = UDim2.new(0.7, 0, 0.25, 0)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.BorderSizePixel = 0

local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1, 0, 0, 25)
title.Text = "üêæ Troll + Fake Gift GUI"
title.TextColor3 = Color3.new(1,1,1)
title.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
title.Font = Enum.Font.SourceSansBold
title.TextSize = 18

-- üîΩ Dropdown ch·ªçn ng∆∞·ªùi
local dropdown = Instance.new("TextButton", frame)
dropdown.Position = UDim2.new(0, 10, 0, 35)
dropdown.Size = UDim2.new(1, -20, 0, 30)
dropdown.Text = "üîΩ Ch·ªçn ng∆∞·ªùi ch∆°i"
dropdown.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
dropdown.TextColor3 = Color3.new(1,1,1)
dropdown.Font = Enum.Font.SourceSans
dropdown.TextSize = 16

local dropdownList = Instance.new("Frame", frame)
dropdownList.Position = UDim2.new(0, 10, 0, 65)
dropdownList.Size = UDim2.new(1, -20, 0, 60)
dropdownList.Visible = false
dropdownList.BackgroundColor3 = Color3.fromRGB(60,60,60)

dropdown.MouseButton1Click:Connect(function()
	dropdownList.Visible = not dropdownList.Visible
end)

-- N√∫t ch·ªçn ng∆∞·ªùi ch∆°i
local function makePlayerButton(name)
	local btn = Instance.new("TextButton", dropdownList)
	btn.Size = UDim2.new(1, 0, 0, 20)
	btn.Text = name
	btn.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
	btn.TextColor3 = Color3.new(1,1,1)
	btn.Font = Enum.Font.SourceSans
	btn.TextSize = 14
	btn.MouseButton1Click:Connect(function()
		dropdown.Text = "üéØ Troll: "..name
		dropdownList.Visible = false

		local target = Players:FindFirstChild(name)
		if target and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
			-- Teleport
			LocalPlayer.Character:FindFirstChild("HumanoidRootPart").CFrame =
				target.Character:FindFirstChild("HumanoidRootPart").CFrame + Vector3.new(0, 0.5, 0)

			-- ƒê·ªïi t√™n
			local myTag = LocalPlayer.Character.Head:FindFirstChildOfClass("BillboardGui")
			local targetTag = target.Character.Head:FindFirstChildOfClass("BillboardGui")
			if myTag and targetTag then
				myTag.TextLabel.Text = targetTag.TextLabel.Text
			end
		end
	end)
end

for _, p in pairs(Players:GetPlayers()) do
	if p ~= LocalPlayer then
		makePlayerButton(p.Name)
	end
end

-- üîÑ Reset Troll
local resetBtn = Instance.new("TextButton", frame)
resetBtn.Position = UDim2.new(0, 10, 0, 130)
resetBtn.Size = UDim2.new(1, -20, 0, 25)
resetBtn.Text = "üîÑ Reset Troll"
resetBtn.BackgroundColor3 = Color3.fromRGB(90, 20, 20)
resetBtn.TextColor3 = Color3.new(1,1,1)
resetBtn.Font = Enum.Font.SourceSansBold
resetBtn.TextSize = 16

resetBtn.MouseButton1Click:Connect(function()
	local tag = LocalPlayer.Character.Head:FindFirstChildOfClass("BillboardGui")
	if tag then
		tag.TextLabel.Text = originalName
	end
end)

-- üéÅ Fake Gift GUI
local giftBtn = Instance.new("TextButton", frame)
giftBtn.Position = UDim2.new(0, 10, 0, 165)
giftBtn.Size = UDim2.new(1, -20, 0, 30)
giftBtn.Text = "üéÅ M·ªü GUI Gift Pet (gi·∫£)"
giftBtn.BackgroundColor3 = Color3.fromRGB(20, 80, 20)
giftBtn.TextColor3 = Color3.new(1,1,1)
giftBtn.Font = Enum.Font.SourceSansBold
giftBtn.TextSize = 16

-- üéÅ Fake Gift Window
giftBtn.MouseButton1Click:Connect(function()
	local giftFrame = Instance.new("Frame", gui)
	giftFrame.Size = UDim2.new(0, 250, 0, 160)
	giftFrame.Position = UDim2.new(0.5, -125, 0.5, -80)
	giftFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	giftFrame.BorderSizePixel = 0

	local lbl = Instance.new("TextLabel", giftFrame)
	lbl.Size = UDim2.new(1, 0, 0, 30)
	lbl.Text = "üéÅ G·ª≠i Pet (gi·∫£)"
	lbl.TextColor3 = Color3.new(1,1,1)
	lbl.Font = Enum.Font.SourceSansBold
	lbl.TextSize = 18
	lbl.BackgroundColor3 = Color3.fromRGB(60, 60, 60)

	local input = Instance.new("TextBox", giftFrame)
	input.Position = UDim2.new(0, 10, 0, 40)
	input.Size = UDim2.new(1, -20, 0, 30)
	input.PlaceholderText = "T√™n pet b·∫°n mu·ªën g·ª≠i"
	input.Text = ""
	input.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
	input.TextColor3 = Color3.new(1,1,1)
	input.Font = Enum.Font.SourceSans
	input.TextSize = 16

	local accept = Instance.new("TextButton", giftFrame)
	accept.Position = UDim2.new(0, 10, 0, 90)
	accept.Size = UDim2.new(0.5, -15, 0, 30)
	accept.Text = "‚úîÔ∏è G·ª≠i"
	accept.BackgroundColor3 = Color3.fromRGB(0, 120, 0)
	accept.TextColor3 = Color3.new(1,1,1)
	accept.Font = Enum.Font.SourceSansBold
	accept.TextSize = 16

	local cancel = Instance.new("TextButton", giftFrame)
	cancel.Position = UDim2.new(0.5, 5, 0, 90)
	cancel.Size = UDim2.new(0.5, -15, 0, 30)
	cancel.Text = "‚ùå H·ªßy"
	cancel.BackgroundColor3 = Color3.fromRGB(120, 0, 0)
	cancel.TextColor3 = Color3.new(1,1,1)
	cancel.Font = Enum.Font.SourceSansBold
	cancel.TextSize = 16

	accept.MouseButton1Click:Connect(function()
		lbl.Text = "üéÅ ƒê√£ g·ª≠i pet: " .. input.Text
		accept.Visible = false
		cancel.Text = "ƒê√≥ng"
	end)

	cancel.MouseButton1Click:Connect(function()
		giftFrame:Destroy()
	end)
end)
